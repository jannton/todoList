<%# allows for flash notice on view %>
<% if flash[:notice] %>
  <p class="notice"><%= flash[:notice] %></p>
<% end %>

<h1> To Do --></h1>
<h2>Listing All Tasks</h2>

<h3> Incomplete Tasks </h3>
<%= form_tag completed_tasks_path, :method => :put do %>
	<table>
		<%# row for each attribute %>
		<tr> 
			<th> Name </th>
			<th> Description </th>
			<th> Category </th>
			<th> Due Date </th>
		</tr>

		<% @incomplete_tasks.each do |task| %>
			<tr>
			<%# column for each attribute %>
			<td><%= check_box_tag "task_ids[]", task.id %></td>
			<td><%= task.task_name %></td>
			<td><%= task.description %></td>
			<td><%= task.category %></td>
			<td><%= task.due_date %></td>
			<td><%= link_to 'Edit', edit_task_path(task) %></td>
			<td><%= link_to 'Delete', task_path(task), method: :delete, data: { confirm: "Are you sure you want to delete this task?"} %></td>
			</tr>
		<% end %>
	</table>
	<%= submit_tag 'Complete' %>
<% end %>
<br>

<h3> Completed Tasks </h3>
	<table>
		<%# row for each attribute %>
		<tr> 
			<th> Name </th>
			<th> Description </th>
			<th> Category </th>
			<th> Due Date </th>
		</tr>

		<% @completed_tasks.each do |task| %>
			<tr>
			<%# column for each attribute %>
			<td><%= task.task_name %></td>
			<td><%= task.description %></td>
			<td><%= task.category %></td>
			<td><%= task.due_date %></td>
			<td><%= link_to 'Edit', edit_task_path(task) %></td>
			<td><%= link_to 'Delete', task_path(task), method: :delete, data: { confirm: "Are you sure you want to delete this task?"} %></td>
			</tr>
		<% end %>
	</table>

<br>
<br>
<%= link_to 'Add New Task', new_task_path %>


